import{d as C,u as L,r as m,o as B,E as d,a as E,b as D,c as f,e as t,f as n,w as a,g as c,t as i,h,i as g,m as O,j as A,k as y,F as M,l as N,n as V}from"./index-QtxSC5NZ.js";import"./tickets-CV57FQXZ.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"login-container"},z={class:"login-card"},U={class:"login-header"},j={class:"title"},F={class:"subtitle"},q={class:"sso-section"},P={class:"sso-info",style:{"margin-top":"15px"}},W={class:"sso-note"},Y={class:"demo-section"},x={class:"demo-info"},H=C({__name:"LoginView",setup(J){const b=D(),v=E(),S=L(),r=m(!1),p=m("");B(()=>{if(typeof google<"u"){const e="YOUR_GOOGLE_CLIENT_ID";console.warn("Google Client ID is not configured. SSO will not work."),google.accounts.id.initialize({client_id:e,callback:w}),google.accounts.id.renderButton(document.getElementById("googleButton"),{theme:"outline",size:"large",width:380,text:"signin_with"})}});async function w(e){const o=e.credential;r.value=!0;try{const s=await S.loginWithSSO(o);if(s.success){d.success("Authentication successful!");const u=v.query.redirect||"/";b.push(u)}else d.error(s.message||"Authentication failed")}catch{d.error("An error occurred during authentication")}finally{r.value=!1}}const _=[{type:"user",label:"End User",email:"john.doe@university.edu",buttonType:""},{type:"staff",label:"Support Staff",email:"mike.tech@university.edu",buttonType:"success"},{type:"manager",label:"Manager",email:"david.manager@university.edu",buttonType:"warning"},{type:"admin",label:"Admin",email:"admin@university.edu",buttonType:"danger"}];async function k(e){d.warning("Demo login is disabled in Integration Mode. Please use Google Sign-In.")}function I(e){p.value=e;const o=_.find(s=>s.type===e);o&&(d.info(`Simulating SSO login as ${o.label}...`),k(o.email))}return(e,o)=>{const s=c("el-icon"),u=c("el-divider"),$=c("el-button"),T=c("el-space");return h(),f("div",R,[o[1]||(o[1]=t("div",{class:"login-background"},[t("div",{class:"bg-shape bg-shape-1"}),t("div",{class:"bg-shape bg-shape-2"})],-1)),t("div",z,[t("div",U,[n(s,{size:48,class:"logo-icon"},{default:a(()=>[n(g(O))]),_:1}),t("h1",j,i(e.$t("auth.systemTitle")),1),t("p",F,i(e.$t("auth.systemSubtitle")),1)]),t("div",q,[o[0]||(o[0]=t("div",{id:"googleButton",class:"google-btn-container"},null,-1)),t("p",P,i(e.$t("auth.ssoInfo")),1),t("div",W,[n(s,null,{default:a(()=>[n(g(A))]),_:1}),t("span",null,i(e.$t("auth.ssoNote")),1)])]),n(u,null,{default:a(()=>[y(i(e.$t("auth.demoMode")),1)]),_:1}),t("div",Y,[t("p",x,i(e.$t("auth.demoInfo")),1),n(T,{wrap:"",class:"demo-accounts"},{default:a(()=>[(h(),f(M,null,N(_,l=>n($,{key:l.type,type:l.buttonType,loading:r.value&&p.value===l.type,onClick:K=>I(l.type)},{default:a(()=>[n(s,null,{default:a(()=>[n(g(V))]),_:1}),y(" "+i(e.$t(`roles.${l.type}`)),1)]),_:2},1032,["type","loading","onClick"])),64))]),_:1})])])])}}}),ee=G(H,[["__scopeId","data-v-b3abe152"]]);export{ee as default};
