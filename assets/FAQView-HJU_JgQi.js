import{d as K,k as U,l as E,n as b,r as w,o as G,c as g,e as o,p as M,f as e,t as a,w as l,g as c,$ as R,q as k,i as d,a6 as j,G as H,Q as J,y as r,ag as O,ak as P,D as W,C as X,z as Y,b as Z,h as _}from"./index-wT8oNPsL.js";import{u as x}from"./knowledge-vqCoiY_s.js";import{a as ee}from"./index-6qwnJ-mk.js";/* empty css                */import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";const le={class:"faq-view"},oe={class:"page-header"},ae={class:"search-section"},se={class:"faq-section"},ne={class:"faq-title"},ie={class:"faq-content"},ce={class:"faq-footer"},de={class:"faq-meta"},ue={class:"views"},re={class:"help-content"},_e={class:"help-text"},pe={class:"help-actions"},fe=K({__name:"FAQView",setup(me){const v=Z(),{t:y}=U(),h=x(),A=E(),$=b(()=>h.loading),f=b(()=>h.faqArticles),p=w(""),C=w([]),u=w([]);G(async()=>{A.setBreadcrumbs([{label:y("nav.dashboard"),path:"/"},{label:y("knowledge.faq")}]),await h.fetchFAQArticles(),u.value=f.value});function F(){if(!p.value){u.value=f.value;return}const t=p.value.toLowerCase();u.value=f.value.filter(n=>n.title.toLowerCase().includes(t)||n.content.toLowerCase().includes(t)||n.tags.some(i=>i.toLowerCase().includes(t)))}function V(){p.value="",u.value=f.value}function Q(t){v.push(`/knowledge/${t}`)}function q(){v.push("/knowledge")}function S(){v.push("/tickets/create")}return(t,n)=>{const i=c("el-icon"),B=c("el-input"),T=c("el-tag"),m=c("el-button"),D=c("el-collapse-item"),L=c("el-collapse"),I=c("el-empty"),N=c("el-card"),z=R("loading");return _(),g("div",le,[o("div",oe,[o("h1",null,a(t.$t("knowledge.faq")),1),o("p",null,a(t.$t("knowledge.faqSubtitle")),1)]),o("div",ae,[e(B,{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=s=>p.value=s),placeholder:t.$t("knowledge.searchFAQ"),size:"large",clearable:"",onInput:F},{prefix:l(()=>[e(i,null,{default:l(()=>[e(d(j))]),_:1})]),_:1},8,["modelValue","placeholder"])]),M((_(),g("div",se,[u.value.length>0?(_(),k(L,{key:0,modelValue:C.value,"onUpdate:modelValue":n[1]||(n[1]=s=>C.value=s),accordion:""},{default:l(()=>[(_(!0),g(H,null,J(u.value,s=>(_(),k(D,{key:s.id,name:s.id},{title:l(()=>[o("div",ne,[e(i,{class:"question-icon"},{default:l(()=>[e(d(W))]),_:1}),o("span",null,a(s.title),1)])]),default:l(()=>[o("div",ie,[e(d(ee),{modelValue:s.content,previewTheme:"github"},null,8,["modelValue"]),o("div",ce,[o("div",de,[e(T,{size:"small",effect:"plain"},{default:l(()=>[r(a(s.category),1)]),_:2},1024),o("span",ue,[e(i,null,{default:l(()=>[e(d(O))]),_:1}),r(" "+a(s.viewCount)+" "+a(t.$t("knowledge.viewCount")),1)])]),e(m,{text:"",type:"primary",onClick:ve=>Q(s.id)},{default:l(()=>[r(a(t.$t("knowledge.viewFullArticle"))+" ",1),e(i,null,{default:l(()=>[e(d(P))]),_:1})]),_:1},8,["onClick"])])])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):(_(),k(I,{key:1,description:t.$t("knowledge.noFAQ")},{default:l(()=>[e(m,{type:"primary",onClick:V},{default:l(()=>[r(a(t.$t("knowledge.showAllFAQs")),1)]),_:1})]),_:1},8,["description"]))])),[[z,$.value]]),e(N,{class:"help-card"},{default:l(()=>[o("div",re,[o("div",_e,[o("h3",null,a(t.$t("knowledge.cantFind")),1),o("p",null,a(t.$t("knowledge.cantFindDesc")),1)]),o("div",pe,[e(m,{onClick:q},{default:l(()=>[e(i,null,{default:l(()=>[e(d(X))]),_:1}),r(" "+a(t.$t("dashboard.browseKB")),1)]),_:1}),e(m,{type:"primary",onClick:S},{default:l(()=>[e(i,null,{default:l(()=>[e(d(Y))]),_:1}),r(" "+a(t.$t("tickets.submitTicket")),1)]),_:1})])])]),_:1})])}}}),Ce=te(fe,[["__scopeId","data-v-6b077b9a"]]);export{Ce as default};
