import{d as Q,p as R,q as Z,r as C,a0 as k,ac as x,X as ee,ai as le,c as ae,a as r,b as e,t as u,w as a,e as s,o as N,i as V,v as te,_ as ne,y as oe,h as E,aj as se,ak as ie,ag as de,E as p,a4 as ue}from"./index-Myl3Wffr.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";const re={class:"system-settings-view"},pe={class:"page-header"},fe={class:"card-header"},ge=Q({__name:"SystemSettingsView",setup(be){const{t:_}=R(),h=Z(),$=C(!1),A=C("general"),T=C([]),m=k({systemName:"IT Service Desk",supportEmail:"support@university.edu",language:x(),timezone:"America/New_York"}),d=k({smtpServer:"smtp.university.edu",smtpPort:587,useTLS:!0,username:"",password:"",fromAddress:"noreply@university.edu"}),i=k({newTicket:!0,ticketAssignment:!0,statusChange:!0,newComment:!0,slaWarning:!0,maintenance:!0,security:!0});ee(async()=>{h.setBreadcrumbs([{label:_("nav.administration")},{label:_("nav.systemSettings")}]),await z()});async function z(){$.value=!0;try{const l=await le.getSLAConfigs();l.code===200&&l.data&&(T.value=l.data)}finally{$.value=!1}}function B(l){return{low:"info",medium:"",high:"warning",urgent:"danger"}[l]||""}function M(l){de(l),p.success(_("messages.languageChanged"))}function P(){p.success(_("messages.saveSuccess"))}function D(){p.info("Add SLA dialog would open here")}function I(l){p.info(`Edit SLA for priority: ${l.priority}`)}async function W(l){try{await ue.confirm(`Are you sure you want to delete SLA for "${l.priority}" priority?`,"Delete SLA",{type:"warning"}),p.success(`SLA for ${l.priority} deleted (mock)`)}catch{}}function Y(){p.info("Testing email connection..."),setTimeout(()=>{p.success("Email connection successful!")},1500)}function G(){p.success("Email settings saved successfully")}function j(){p.success("Notification settings saved successfully")}return(l,n)=>{const b=s("el-input"),o=s("el-form-item"),c=s("el-option"),L=s("el-select"),g=s("el-button"),S=s("el-form"),v=s("el-card"),w=s("el-tab-pane"),y=s("el-table-column"),q=s("el-tag"),U=s("el-icon"),H=s("el-table"),X=s("el-input-number"),f=s("el-switch"),F=s("el-divider"),J=s("el-tabs"),K=ne("loading");return N(),ae("div",re,[r("div",pe,[r("h1",null,u(l.$t("admin.systemSettings")),1)]),e(J,{modelValue:A.value,"onUpdate:modelValue":n[17]||(n[17]=t=>A.value=t),class:"settings-tabs"},{default:a(()=>[e(w,{label:l.$t("admin.generalSettings"),name:"general"},{default:a(()=>[e(v,null,{header:a(()=>[r("span",null,u(l.$t("admin.generalSettings")),1)]),default:a(()=>[e(S,{model:m,"label-width":"200px"},{default:a(()=>[e(o,{label:l.$t("admin.systemName")},{default:a(()=>[e(b,{modelValue:m.systemName,"onUpdate:modelValue":n[0]||(n[0]=t=>m.systemName=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.supportEmail")},{default:a(()=>[e(b,{modelValue:m.supportEmail,"onUpdate:modelValue":n[1]||(n[1]=t=>m.supportEmail=t),type:"email"},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.defaultLanguage")},{default:a(()=>[e(L,{modelValue:m.language,"onUpdate:modelValue":n[2]||(n[2]=t=>m.language=t),style:{width:"200px"},onChange:M},{default:a(()=>[e(c,{label:"English",value:"en"}),e(c,{label:"中文",value:"zh"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.timezone")},{default:a(()=>[e(L,{modelValue:m.timezone,"onUpdate:modelValue":n[3]||(n[3]=t=>m.timezone=t),style:{width:"300px"}},{default:a(()=>[e(c,{label:"UTC",value:"UTC"}),e(c,{label:"America/New_York (EST)",value:"America/New_York"}),e(c,{label:"America/Los_Angeles (PST)",value:"America/Los_Angeles"}),e(c,{label:"Europe/London (GMT)",value:"Europe/London"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(o,null,{default:a(()=>[e(g,{type:"primary",onClick:P},{default:a(()=>[V(u(l.$t("admin.saveChanges")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["label"]),e(w,{label:l.$t("admin.slaConfiguration"),name:"sla"},{default:a(()=>[e(v,null,{header:a(()=>[r("div",fe,[r("span",null,u(l.$t("admin.slaConfiguration")),1),e(g,{type:"primary",size:"small",onClick:D},{default:a(()=>[V(u(l.$t("admin.addSLA")),1)]),_:1})])]),default:a(()=>[te((N(),oe(H,{data:T.value},{default:a(()=>[e(y,{prop:"name",label:l.$t("common.name"),width:"150"},null,8,["label"]),e(y,{prop:"priority",label:l.$t("common.priority"),width:"100"},{default:a(({row:t})=>[e(q,{type:B(t.priority),size:"small"},{default:a(()=>[V(u(t.priority),1)]),_:2},1032,["type"])]),_:1},8,["label"]),e(y,{prop:"responseTime",label:l.$t("admin.responseTime"),width:"130"},null,8,["label"]),e(y,{prop:"resolutionTime",label:l.$t("admin.resolutionTime"),width:"130"},null,8,["label"]),e(y,{prop:"escalationTime",label:l.$t("admin.escalationTime"),width:"130"},null,8,["label"]),e(y,{label:l.$t("common.actions"),width:"120"},{default:a(({row:t})=>[e(g,{text:"",type:"primary",onClick:O=>I(t)},{default:a(()=>[e(U,null,{default:a(()=>[e(E(se))]),_:1})]),_:1},8,["onClick"]),e(g,{text:"",type:"danger",onClick:O=>W(t)},{default:a(()=>[e(U,null,{default:a(()=>[e(E(ie))]),_:1})]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[K,$.value]])]),_:1})]),_:1},8,["label"]),e(w,{label:l.$t("admin.emailConfiguration"),name:"email"},{default:a(()=>[e(v,null,{header:a(()=>[r("span",null,u(l.$t("admin.emailConfiguration")),1)]),default:a(()=>[e(S,{model:d,"label-width":"200px"},{default:a(()=>[e(o,{label:l.$t("admin.smtpServer")},{default:a(()=>[e(b,{modelValue:d.smtpServer,"onUpdate:modelValue":n[4]||(n[4]=t=>d.smtpServer=t),placeholder:"smtp.example.com"},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.smtpPort")},{default:a(()=>[e(X,{modelValue:d.smtpPort,"onUpdate:modelValue":n[5]||(n[5]=t=>d.smtpPort=t),min:1,max:65535},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.useTLS")},{default:a(()=>[e(f,{modelValue:d.useTLS,"onUpdate:modelValue":n[6]||(n[6]=t=>d.useTLS=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.username")},{default:a(()=>[e(b,{modelValue:d.username,"onUpdate:modelValue":n[7]||(n[7]=t=>d.username=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.password")},{default:a(()=>[e(b,{modelValue:d.password,"onUpdate:modelValue":n[8]||(n[8]=t=>d.password=t),type:"password","show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.senderEmail")},{default:a(()=>[e(b,{modelValue:d.fromAddress,"onUpdate:modelValue":n[9]||(n[9]=t=>d.fromAddress=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,null,{default:a(()=>[e(g,{onClick:Y},{default:a(()=>[V(u(l.$t("admin.testConnection")),1)]),_:1}),e(g,{type:"primary",onClick:G},{default:a(()=>[V(u(l.$t("admin.saveChanges")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["label"]),e(w,{label:l.$t("admin.notificationSettings"),name:"notifications"},{default:a(()=>[e(v,null,{header:a(()=>[r("span",null,u(l.$t("admin.notificationSettings")),1)]),default:a(()=>[e(S,{model:i,"label-width":"250px"},{default:a(()=>[r("h4",null,u(l.$t("admin.ticketNotifications")),1),e(o,{label:l.$t("admin.newTicketNotify")},{default:a(()=>[e(f,{modelValue:i.newTicket,"onUpdate:modelValue":n[10]||(n[10]=t=>i.newTicket=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.ticketAssignmentNotify")},{default:a(()=>[e(f,{modelValue:i.ticketAssignment,"onUpdate:modelValue":n[11]||(n[11]=t=>i.ticketAssignment=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.ticketUpdateNotify")},{default:a(()=>[e(f,{modelValue:i.statusChange,"onUpdate:modelValue":n[12]||(n[12]=t=>i.statusChange=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.newCommentNotify")},{default:a(()=>[e(f,{modelValue:i.newComment,"onUpdate:modelValue":n[13]||(n[13]=t=>i.newComment=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.slaWarningNotify")},{default:a(()=>[e(f,{modelValue:i.slaWarning,"onUpdate:modelValue":n[14]||(n[14]=t=>i.slaWarning=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(F),r("h4",null,u(l.$t("admin.systemNotifications")),1),e(o,{label:l.$t("admin.maintenanceNotify")},{default:a(()=>[e(f,{modelValue:i.maintenance,"onUpdate:modelValue":n[15]||(n[15]=t=>i.maintenance=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l.$t("admin.securityNotify")},{default:a(()=>[e(f,{modelValue:i.security,"onUpdate:modelValue":n[16]||(n[16]=t=>i.security=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,null,{default:a(()=>[e(g,{type:"primary",onClick:j},{default:a(()=>[V(u(l.$t("admin.saveChanges")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue"])])}}}),Ve=me(ge,[["__scopeId","data-v-7aaeb9d1"]]);export{Ve as default};
