import{d as U,p as z,q as E,s as C,r as w,X as G,c as g,a as o,v as H,b as e,t as a,w as l,e as c,Y as M,y as k,o as r,h as d,a3 as R,F as X,l as Y,i as _,ae as j,ai as J,H as O,G as P,B as W,f as Z}from"./index-CMTRBr-a.js";import{u as x}from"./knowledge-DZdYERT8.js";import{a as ee}from"./index-DLq5dEyX.js";/* empty css                */import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";const le={class:"faq-view"},oe={class:"page-header"},ae={class:"search-section"},se={class:"faq-section"},ne={class:"faq-title"},ie={class:"faq-content"},ce={class:"faq-footer"},de={class:"faq-meta"},ue={class:"views"},re={class:"help-content"},_e={class:"help-text"},pe={class:"help-actions"},fe=U({__name:"FAQView",setup(me){const v=Z(),{t:y}=z(),h=x(),A=E(),F=C(()=>h.loading),f=C(()=>h.faqArticles),p=w(""),b=w([]),u=w([]);G(async()=>{A.setBreadcrumbs([{label:y("nav.dashboard"),path:"/"},{label:y("knowledge.faq")}]),await h.fetchFAQArticles(),u.value=f.value});function V(){if(!p.value){u.value=f.value;return}const t=p.value.toLowerCase();u.value=f.value.filter(n=>n.title.toLowerCase().includes(t)||n.content.toLowerCase().includes(t)||n.tags.some(i=>i.toLowerCase().includes(t)))}function $(){p.value="",u.value=f.value}function Q(t){v.push(`/knowledge/${t}`)}function q(){v.push("/knowledge")}function B(){v.push("/tickets/create")}return(t,n)=>{const i=c("el-icon"),S=c("el-input"),T=c("el-tag"),m=c("el-button"),L=c("el-collapse-item"),D=c("el-collapse"),I=c("el-empty"),N=c("el-card"),K=M("loading");return r(),g("div",le,[o("div",oe,[o("h1",null,a(t.$t("knowledge.faq")),1),o("p",null,a(t.$t("knowledge.faqSubtitle")),1)]),o("div",ae,[e(S,{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=s=>p.value=s),placeholder:t.$t("knowledge.searchFAQ"),size:"large",clearable:"",onInput:V},{prefix:l(()=>[e(i,null,{default:l(()=>[e(d(R))]),_:1})]),_:1},8,["modelValue","placeholder"])]),H((r(),g("div",se,[u.value.length>0?(r(),k(D,{key:0,modelValue:b.value,"onUpdate:modelValue":n[1]||(n[1]=s=>b.value=s),accordion:""},{default:l(()=>[(r(!0),g(X,null,Y(u.value,s=>(r(),k(L,{key:s.id,name:s.id},{title:l(()=>[o("div",ne,[e(i,{class:"question-icon"},{default:l(()=>[e(d(O))]),_:1}),o("span",null,a(s.title),1)])]),default:l(()=>[o("div",ie,[e(d(ee),{modelValue:s.content,previewTheme:"github"},null,8,["modelValue"]),o("div",ce,[o("div",de,[e(T,{size:"small",effect:"plain"},{default:l(()=>[_(a(s.category),1)]),_:2},1024),o("span",ue,[e(i,null,{default:l(()=>[e(d(j))]),_:1}),_(" "+a(s.viewCount)+" "+a(t.$t("knowledge.viewCount")),1)])]),e(m,{text:"",type:"primary",onClick:ve=>Q(s.id)},{default:l(()=>[_(a(t.$t("knowledge.viewFullArticle"))+" ",1),e(i,null,{default:l(()=>[e(d(J))]),_:1})]),_:1},8,["onClick"])])])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):(r(),k(I,{key:1,description:t.$t("knowledge.noFAQ")},{default:l(()=>[e(m,{type:"primary",onClick:$},{default:l(()=>[_(a(t.$t("knowledge.showAllFAQs")),1)]),_:1})]),_:1},8,["description"]))])),[[K,F.value]]),e(N,{class:"help-card"},{default:l(()=>[o("div",re,[o("div",_e,[o("h3",null,a(t.$t("knowledge.cantFind")),1),o("p",null,a(t.$t("knowledge.cantFindDesc")),1)]),o("div",pe,[e(m,{onClick:q},{default:l(()=>[e(i,null,{default:l(()=>[e(d(P))]),_:1}),_(" "+a(t.$t("dashboard.browseKB")),1)]),_:1}),e(m,{type:"primary",onClick:B},{default:l(()=>[e(i,null,{default:l(()=>[e(d(W))]),_:1}),_(" "+a(t.$t("tickets.submitTicket")),1)]),_:1})])])]),_:1})])}}}),be=te(fe,[["__scopeId","data-v-6b077b9a"]]);export{be as default};
