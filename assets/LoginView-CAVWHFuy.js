import{d as C,u as A,r as g,c as h,a as t,b as s,w as n,e as d,t as i,o as y,f as O,g as V,h as c,m as E,i as _,k as N,j as B,F as D,l as I,n as M,E as u}from"./index-VQiFdX3i.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"login-container"},j={class:"login-card"},z={class:"login-header"},F={class:"title"},q={class:"subtitle"},P={class:"sso-section"},W={class:"sso-info"},G={class:"sso-note"},H={class:"demo-section"},J={class:"demo-info"},K=C({__name:"LoginView",setup(Q){const v=O(),b=V(),S=A(),l=g(!1),p=g(""),f=[{type:"user",label:"End User",email:"john.doe@university.edu",buttonType:""},{type:"staff",label:"Support Staff",email:"mike.tech@university.edu",buttonType:"success"},{type:"manager",label:"Manager",email:"david.manager@university.edu",buttonType:"warning"},{type:"admin",label:"Admin",email:"admin@university.edu",buttonType:"danger"}];async function $(e){l.value=!0;try{const o=await S.loginWithSSO(e);if(o.success){u.success("Authentication successful!");const a=b.query.redirect||"/";v.push(a)}else u.error(o.message||"Authentication failed")}catch{u.error("An error occurred during authentication")}finally{l.value=!1,p.value=""}}function k(){u.info("Redirecting to University SSO authentication portal..."),l.value=!0,setTimeout(()=>{u.warning("SSO redirect simulated. Please select a demo account below for testing."),l.value=!1},1500)}function w(e){p.value=e;const o=f.find(a=>a.type===e);o&&(u.info(`Simulating SSO login as ${o.label}...`),$(o.email))}return(e,o)=>{const a=d("el-icon"),m=d("el-button"),L=d("el-divider"),T=d("el-space");return y(),h("div",U,[o[0]||(o[0]=t("div",{class:"login-background"},[t("div",{class:"bg-shape bg-shape-1"}),t("div",{class:"bg-shape bg-shape-2"})],-1)),t("div",j,[t("div",z,[s(a,{size:48,class:"logo-icon"},{default:n(()=>[s(c(E))]),_:1}),t("h1",F,i(e.$t("auth.systemTitle")),1),t("p",q,i(e.$t("auth.systemSubtitle")),1)]),t("div",P,[t("p",W,i(e.$t("auth.ssoInfo")),1),s(m,{type:"primary",size:"large",loading:l.value,class:"sso-btn",onClick:k},{default:n(()=>[s(a,null,{default:n(()=>[s(c(N))]),_:1}),_(" "+i(e.$t("auth.ssoLogin")),1)]),_:1},8,["loading"]),t("div",G,[s(a,null,{default:n(()=>[s(c(B))]),_:1}),t("span",null,i(e.$t("auth.ssoNote")),1)])]),s(L,null,{default:n(()=>[_(i(e.$t("auth.demoMode")),1)]),_:1}),t("div",H,[t("p",J,i(e.$t("auth.demoInfo")),1),s(T,{wrap:"",class:"demo-accounts"},{default:n(()=>[(y(),h(D,null,I(f,r=>s(m,{key:r.type,type:r.buttonType,loading:l.value&&p.value===r.type,onClick:X=>w(r.type)},{default:n(()=>[s(a,null,{default:n(()=>[s(c(M))]),_:1}),_(" "+i(e.$t(`roles.${r.type}`)),1)]),_:2},1032,["type","loading","onClick"])),64))]),_:1})])])])}}}),x=R(K,[["__scopeId","data-v-1481dd38"]]);export{x as default};
